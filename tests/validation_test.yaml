suite: test validation helpers
templates:
  - templates/helpers/test-helper/test_injector_code_template.txt
values:
  - ../values.linter.yaml
tests:
  - it: helper [subsystem-application.validations.validation-message] should validate application canonical name
    set:
      __test_injected_code_variable: '{{ include "subsystem-application.validations.validation-message" $ }}'
    asserts:
      - equalRaw:
          value: Validation is correct
  - it: helper [subsystem-application.validations.name-length] should return value if its length is no longer than 63 symbols
    set:
      __test_injected_code_variable: '{{ include "sdk.naming.validate-k8s-name" $.Values.global.subsystem }}'
    asserts:
      - equalRaw:
          value: some-subsystem
