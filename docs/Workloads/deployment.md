

## Definition


=== "Values"

    ``` yaml
    --8<-- "snippets/values/workload-common.yaml"
    --8<-- "snippets/values/deployment.yaml"
    ```

=== "Deployment Manifest"

    ``` yaml
    --8<-- "snippets/manifests/deployment/cicd-sample-docs.yml"
    ```



`namespace`

:   secret namespace

    **default:** subsystem namespace generated by convention

`labels`

:   list of labels to add to secret in addition to [common labels](../common metadata.md)

    **default:** empty dict

`annotations`

:   list of annotations to add to secret in addition to [common annotations](../common metadata.md)

    **default:** empty dict

`spec`    

:   Deployment kubernetes manifests `spec` field value. (`spec.template`, `spec.replicas` `spec.selector` are ignored, see overrides and manifest generation bellow)

    **default:** 
    
    ``` yaml
    revisionHistoryLimit: 2
    ```

## Validations

None

## Overrides

`name`

:   generated with [naming conventions](../naming conventions.md) with `workload` as deployment `id`

`spec.replicas`

:   populated with `Values.replicas`

`spec.selector`

:   populated to match application pods

`spec.template`

:   generated from [Containers](../Components/containers.md) and [Volumes](../Components/volumes.md)


## Manifests Generation 

- [common annotations](../common metadata.md) are added to metadata
- Annotations with checksums for [Secrets](../Resources/secret.md), [External Secrets](../Resources/external-secret.md) and [Config Maps](../Resources/configmap.md) are generated. (see corresponding articles) 
- `spec.selector` is generated to match application pods 
- `spec.template` is generated  from [Containers](../Components/containers.md) and [Volumes](../Components/volumes.md)