
## Definition


=== "Values"

    ``` yaml
    --8<-- "snippets/values/configmaps.yaml"
    ```

=== "ConfigMap Manifests"

    ``` yaml
    --8<-- "snippets/manifests/ConfigMap/cicd-sample-docs-config-map-full-metadata.yml"
    ```

    ``` yaml
    --8<-- "snippets/manifests/ConfigMap/cicd-sample-docs-config-map-with-containers.yml"
    ```

    ``` yaml
    --8<-- "snippets/manifests/ConfigMap/cicd-sample-docs-config-map-without-containers.yml"
    ```

=== "Deployment Manifest"

    ``` yaml
    --8<-- "snippets/manifests/deployment/cicd-sample-docs.yml"
    ```

=== "CronJob Manifest"

    ``` yaml
    --8<-- "snippets/manifests/CronJob/cicd-sample-docs-cleanup.yml"
    ```


`namespace`

:   secret namespace

    **default:** subsystem namespace generated by convention

`labels`

:   list of labels to add to secret in addition to [common labels](../common metadata.md)

    **default:** empty dict

`annotations`

:   list of annotations to add to secret in addition to [common annotations](../common metadata.md)

    **default:** empty dict

`containers`

:   list of container ids to add `configMapRef` for the configMap. If  `containers` is not provided, `secretRef` would be added to all containers in configMap namespace

    **default:** nil (add `configMapRef` to all containers)

`stringData`

:   `data` to be added to configmap manifest

    **default:** empty dict


## Validations

- ConfigMap `id` is unique. `envs` id is reserved for [envs config map](../values.md#envs-config-map)
- Each item in `containers` references `applicationContainer` or existing `id` in `init-container` or `sidecars`
- Each item in `containers` belongs to the same some-namespace as the secret

## Overrides

`name`

:   `name` is generated from id by [convention](../naming conventions.md)

## Manifest Generation 

- `configMapRef` is added to containers  with ids listed in `configmap.containers` (all if this field is not set)
- annotation with checksum of configmap is added to workloads manifests if at least one container of has `configMapRef` added
- configmap manifest is generated
