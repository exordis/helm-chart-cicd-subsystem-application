
## Definition


=== "Values"

    ``` yaml
    --8<-- "snippets/values/workload-common.yaml"
    --8<-- "snippets/values/CronJob.yaml"
    ```

=== "Cronjob Manifest"

    ``` yaml
    --8<-- "snippets/manifests/cronjob/cicd-sample-docs-cleanup.yml"
    ```



`namespace`

:   cronjob namespace

    **default:** subsystem namespace generated by convention

`labels`

:   list of labels to add to secret in addition to [common labels](../common metadata.md)

    **default:** empty dict

`annotations`

:   list of annotations to add to secret in addition to [common labels](../common metadata.md)

    **default:** empty dict

`containers`

:   cronjob [Containers](../Components/containers.md)

    **default:** empty dict

`initContainers`

:   cronjob [Init Containers](../Components/containers.md)

    **default:** empty dict

`volumes`

:   cronjob [Volumes](../Components/volumes.md)

    **default:** empty dict


`spec`    

:   Cronjob kubernetes manifests `spec` field value.  (`spec.jobTemplate.spec.template.spec.containers`, `spec.jobTemplate.spec.template.spec.initContainers`, `spec.jobTemplate.spec.template.spec.volumes`  are ignored, see overrides and manifest generation bellow)


    **default:** 
    
    ``` yaml
    schedule: "0 0 31 2 *"
    concurrencyPolicy: Forbid
    failedJobsHistoryLimit: 1
    jobTemplate:
      spec:
        ttlSecondsAfterFinished: 86400
        template:
          spec:
            serviceAccountName: default
            restartPolicy: "Never"

    ```


## Validations

None

## Overrides

`name`

:   generated with [naming conventions](../naming conventions.md) with `workload` as deployment `id`

`spec.jobTemplate.spec.template.spec.containers`

:   generated from `.containers`

`spec.jobTemplate.spec.template.spec.initContainers`

:   generated from `.initContainers`

`spec.jobTemplate.spec.template.spec.volumes`

:   generated from `.volumes`


## Manifests Generation 

- [common labels](../common metadata.md) are added to `metadata` and `spec.jobTemplate.spec.template.metadata` 
- `spec.jobTemplate.spec.template.spec.containers` is generated  from `.containers`. See [Containers](../Components/containers.md)
- `spec.template.spec.initContainers` is generated  from `.initContainers`. See [Containers](../Components/containers.md)
- `spec.template.spec.volumes` is generated  from `.volumes`. See [Volumes](../Components/volumes.md)  